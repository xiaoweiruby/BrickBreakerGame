# 闪电式产品需求文档 (Lightning PRD) - 打砖块游戏

## 1. 产品概述

- **产品愿景与使命**: 打造一款经典、有趣、易上手的打砖块游戏，为用户提供快速、轻松的娱乐体验。
- **价值主张**: 在几分钟内提供令人满意的、有成就感的游戏体验。这是一款完美的“休息时间”游戏。
- **目标平台**: 桌面端 (Windows, macOS, Linux)。
- **核心假设验证结果**:
    - **假设**: 用户熟悉经典的打砖块玩法。
    - **验证**: 这是一种在游戏界广为人知的经典模式，无需进行复杂的市场教育。用户的主要期望是流畅的操控和令人满意的物理反馈。

## 2. 用户研究

- **用户画像**:
    - **名称**: 休闲玩家 (Casual Gamer)。
    - **特征**: 寻找可以随时开始和结束的简单游戏，用于在工作或学习间隙放松。不希望投入大量时间学习复杂规则。
    - **目标**: 快速获得乐趣和成就感。
- **核心使用场景**:
    - 在工作/学习间隙，玩上一局（5-10分钟）来放松心情。
    - 等待期间，打发无聊时间。
- **用户痛点和需求层次**:
    - **核心需求 (P0)**:
        - 能够流畅地控制挡板。
        - 球的运动轨迹符合物理直觉。
        - 砖块被击碎时有即时、令人满意的反馈。
        - 有明确的胜利和失败条件。
    - **期望需求 (P1)**:
        - 有多种关卡设计。
        - 有一些有趣的道具（例如：加长挡板、多球等）。
        - 简单的计分系统。

## 3. 功能需求 (MVP)

MVP（Minimum Viable Product）的目标是使用最核心的功能，以最快的速度构建一个可玩版本，用于验证核心玩法。

### MVP 功能清单 (P0 核心功能)

| 功能模块 | 功能点 | 用户故事 | 验收标准 |
| :--- | :--- | :--- | :--- |
| **游戏主循环** | 游戏开始、胜利、失败的流程管理 | 作为玩家，我希望游戏能在我打完所有砖块后告诉我胜利，或者在球掉落后告诉我失败，以便我了解游戏结果。 | 1. 游戏启动后进入可玩状态。<br>2. 所有砖块被销毁后，触发胜利逻辑。<br>3. 球掉出屏幕底部后，触发失败逻辑。 |
| **挡板 (Paddle)** | 玩家控制的挡板 | 作为玩家，我希望能用 A 和 D 键左右移动挡板，以便接住球。 | 1. 按下 'A' 键，挡板向左移动。<br>2. 按下 'D' 键，挡板向右移动。<br>3. 挡板不能移出游戏边界。 |
| **球 (Ball)** | 游戏中的球 | 作为玩家，我希望球能从挡板、墙壁和砖块上反弹，以便我能持续游戏并消除砖块。 | 1. 球以恒定速率移动。<br>2. 球碰到左右及上方的墙壁会反弹。<br>3. 球碰到挡板会反弹。<br>4. 球碰到砖块会反弹并销毁砖块。 |
| **砖块 (Brick)** | 待消除的目标 | 作为玩家，我希望看到砖块在被球击中后消失，以便我能获得清除关卡的成就感。 | 1. 砖块在关卡开始时以特定阵列排布。<br>2. 球与砖块发生碰撞后，砖块消失。 |
| **胜利条件** | 游戏胜利 | 作为玩家，我希望在打掉所有砖块后，能看到庆祝的礼花，让我感受到胜利的喜悦。 | 1. 当最后一个砖块被销毁时，游戏暂停。<br>2. 屏幕上出现“胜利！”字样和礼花/彩带粒子效果。 |
| **失败条件** | 游戏失败 | 作为玩家，我需要知道如果没接住球，游戏就会结束，这让游戏充满挑战。 | 1. 球的Y坐标低于挡板，且未发生碰撞。<br>2. 游戏暂停，屏幕上出现“游戏结束”字样。 |

### V1.1 (快速迭代)
- 计分系统
- 生命值系统 (例如：3次机会)
- 简单的音效 (球反弹、砖块破碎)

## 4. 非功能需求

- **性能要求**: 游戏在主流桌面电脑上应能以 60 FPS 流畅运行。
- **可用性标准**:
    - 零学习成本，玩家打开即会。
    - 控制响应灵敏，无明显延迟。

## 5. 技术考量

- **游戏引擎**: Godot 4.4.1
- **编程语言**: GDScript
- **核心场景/节点结构建议**:
    - `Main` (Node2D): 游戏主场景，负责管理关卡、UI和游戏状态。
    - `Player` (CharacterBody2D): 玩家挡板，处理输入和移动。
    - `Ball` (CharacterBody2D/RigidBody2D): 球，处理物理碰撞和运动。
    - `Brick` (StaticBody2D): 砖块，处理被碰撞的逻辑。
    - `Level` (Node2D): 用于容纳和布局所有砖块的容器。
    - `HUD` (CanvasLayer): 用于显示“胜利”/“失败”信息和未来的分数/生命值。
    - `Confetti` (GpuParticles2D): 用于实现胜利时的礼花效果。

## 6. 闪电式路线图 (Lightning Roadmap)

- **第一周: MVP 开发**
    - **目标**: 完成上述所有 P0 核心功能，实现一个完整的可玩闭环。
    - **产出**: 一个可以从头玩到尾（胜利或失败）的游戏版本。
- **第二周: 体验优化**
    - **目标**: 根据初步体验，优化手感和游戏节奏。
    - **产出**: 增加音效、优化碰撞反馈、调整球速和挡板速度。
- **第三周: 内容扩展**
    - **目标**: 增加游戏的可重玩性。
    - **产出**: 设计3个不同的关卡，增加计分和生命值系统。